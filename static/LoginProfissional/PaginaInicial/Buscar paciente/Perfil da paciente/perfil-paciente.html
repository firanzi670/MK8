<!DOCTYPE html>
<html lang="pt-br">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>HerGuardian - Perfil da Paciente</title>
  <link rel="stylesheet" href="perfil-paciente.css" />
</head>
<body>
  <div class="container">
    <div class="header">
      <div class="perfil">
        <img
          class="perfil-icon"
          src="https://cdn-icons-png.flaticon.com/512/2342/2342011.png"
          alt="imagem da mulher"
        />
      </div>
      <h1>HerGuardian</h1>
      <a href="../../../profissional.html" class="logout-btn">
        <img src="https://cdn-icons-png.flaticon.com/512/1828/1828407.png" alt="Sair" />
      </a>
    </div>

    <div class="card">
      <h2>Perfil da Paciente</h2>

      <label>Cartão SUS*:</label>              <p></p>
      <label>Nome completo da mulher*:</label> <p></p>
      <label>Nome completo da mãe*:</label>    <p></p>
      <label>Apelido da mulher:</label>        <p></p>
      <label>CPF*:</label>                     <p></p>
      <label>Nacionalidade:</label>            <p></p>
      <label>Data de nascimento*:</label>      <p></p>
      <label>Idade:</label>                    <p></p>
      <label>Raça/Cor*:</label>                <p></p>
      <label>Logradouro:</label>               <p></p>
      <label>Número:</label>                   <p></p>
      <label>Complemento:</label>              <p></p>
      <label>Bairro:</label>                   <p></p>
      <label>UF:</label>                       <p></p>
      <label>Código do município:</label>      <p></p>
      <label>CEP*:</label>                     <p></p>
      <label>Município:</label>                <p></p>
      <label>DDD:</label>                      <p></p>
      <label>Telefone:</label>                 <p></p>
      <label>Ponto de referência:</label>      <p></p>
      <label>Escolaridade:</label>             <p></p>

      <div class="button-group">
        <button>Classificar paciente</button>
        <button>Inativar paciente</button>
        <a href="../../pagina-inicial.html"><button type="button">Voltar para a página inicial</button></a>
        <a href="editar-perfil.html"><button type="button">Editar perfil</button></a>
        <button type="button" id="btnHistorico">Histórico de exames</button>
      </div>
    </div>
  </div>

  <script>
    window.addEventListener("DOMContentLoaded", () => {
      const params = new URLSearchParams(window.location.search);

      const campos = [
        "cartao_sus",
        "nome_mulher",
        "nome_mae",
        "apelido",
        "cpf",
        "nacionalidade",
        "data_nascimento",
        "idade",
        "raca",
        "logradouro",
        "numero",
        "complemento",
        "bairro",
        "uf_paciente",
        "codigo_municipio",
        "cep",
        "municipio_paciente",
        "ddd",
        "telefone",
        "referencia",
        "escolaridade",
      ];

      const paragrafos = document.querySelectorAll(".card p");

      campos.forEach((campo, index) => {
        const valor = params.get(campo);
        if (valor && paragrafos[index]) {
          paragrafos[index].textContent = valor;
        }
      });
    });

    document.getElementById("btnHistorico").addEventListener("click", () => {
      const params = new URLSearchParams(window.location.search);
      const cpf = params.get("cpf");

      if (!cpf) {
        alert("CPF da paciente não encontrado.");
        return;
      }

      window.location.href = `historico-exames.html?cpf=${encodeURIComponent(cpf)}`;
    });
  </script>
</body>
</html>